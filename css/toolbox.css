/* =========================================
   css/toolbox.css - MENÚ DE HERRAMIENTAS MAESTRO (COMPLETO)
   ========================================= */

/* --- 1. OCULTAR BOTONES INDIVIDUALES --- */
/* Escondemos los botones originales para que solo se vean dentro del menú */
.ticker-btn, 
.calc-float-btn, 
.tracker-float-btn, 
.inco-float-btn, 
.cont-float-btn, 
.conv-float-btn {
    display: none !important;
}

/* --- 2. POSICIONAMIENTO DE LAS VENTANAS --- */
/* Forzamos que todas las ventanas se abran al lado del menú, no encima */
.ticker-float-container, 
.tracker-window, 
.calc-window, 
.inco-window, 
.cont-window, 
.conv-window {
    bottom: 100px !important; 
    left: 90px !important; 
    /* Aseguramos que se vean por encima de otros elementos */
    z-index: 2010 !important; 
}

/* --- 3. CONTENEDOR DEL MENÚ --- */
.toolbox-container {
    position: fixed;
    bottom: 30px;
    left: 30px;
    z-index: 2005; /* Por encima del resto de la web */
    display: flex;
    flex-direction: column-reverse; /* Los ítems salen hacia arriba */
    align-items: center;
    gap: 15px;
}

/* --- 4. BOTÓN PRINCIPAL (Gatillo) --- */
.toolbox-main-btn {
    width: 65px;
    height: 65px;
    background: #0ea5e9; /* Azul Principal */
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    cursor: pointer;
    box-shadow: 0 10px 25px rgba(14, 165, 233, 0.4);
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    border: 2px solid rgba(255,255,255,0.2);
    position: relative;
    z-index: 2;
}

.toolbox-main-btn:hover {
    transform: scale(1.1);
    background: #0284c7;
}

.toolbox-main-btn i {
    transition: transform 0.3s ease;
}

/* Rotación del icono al abrir el menú */
.toolbox-container.active .toolbox-main-btn i {
    transform: rotate(45deg);
}

/* --- 5. ÍTEMS DEL MENÚ (Botones Pequeños) --- */
.toolbox-item {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    opacity: 0;
    visibility: hidden;
    transform: translateY(20px) scale(0.8);
    transition: all 0.3s ease;
    position: relative;
}

/* Tooltip (Etiqueta de texto al lado) */
.toolbox-item::after {
    content: attr(data-tooltip);
    position: absolute;
    left: 60px; /* A la derecha del botón */
    background: rgba(15, 23, 42, 0.9);
    color: white;
    padding: 5px 10px;
    border-radius: 6px;
    font-size: 0.8rem;
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s;
    font-family: 'Segoe UI', sans-serif;
    border: 1px solid rgba(255,255,255,0.1);
}

.toolbox-item:hover::after {
    opacity: 1;
}

/* --- 6. COLORES ESPECÍFICOS POR HERRAMIENTA --- */

/* Rastreador (Azul) */
.btn-tool-tracker { 
    background: #38bdf8; 
    color: #0f172a; 
    border: 1px solid #7dd3fc; 
}

/* Calculadora (Naranja/Ámbar) */
.btn-tool-calc { 
    background: #f59e0b; 
    color: #0f172a; 
    border: 1px solid #fbbf24; 
}

/* Mercados (Verde/Oscuro) */
.btn-tool-ticker { 
    background: #0f172a; 
    color: #4ade80; 
    border: 1px solid #4ade80; 
}

/* Incoterms (Violeta) */
.btn-tool-inco { 
    background: #8b5cf6; 
    color: #fff; 
    border: 1px solid #a78bfa; 
}

/* Contenedores (Rojo) */
.btn-tool-cont { 
    background: #ef4444; 
    color: #fff; 
    border: 1px solid #f87171; 
}

/* Conversor (Rosa) */
.btn-tool-conv { 
    background: #ec4899; 
    color: #fff; 
    border: 1px solid #f472b6; 
}

/* --- 7. ANIMACIÓN DE APERTURA (Efecto Escalera) --- */
.toolbox-container.active .toolbox-item {
    opacity: 1;
    visibility: visible;
    transform: translateY(0) scale(1);
}

/* Retrasos para cada botón (de abajo hacia arriba en la lista visual) */
.toolbox-container.active .toolbox-item:nth-child(2) { transition-delay: 0.05s; } /* Conversor */
.toolbox-container.active .toolbox-item:nth-child(3) { transition-delay: 0.1s; }  /* Contenedores */
.toolbox-container.active .toolbox-item:nth-child(4) { transition-delay: 0.15s; } /* Incoterms */
.toolbox-container.active .toolbox-item:nth-child(5) { transition-delay: 0.2s; }  /* Tracker */
.toolbox-container.active .toolbox-item:nth-child(6) { transition-delay: 0.25s; } /* Calc */
.toolbox-container.active .toolbox-item:nth-child(7) { transition-delay: 0.3s; }  /* Ticker */

/* --- 8. RESPONSIVE (MÓVIL) --- */
@media (max-width: 768px) {
    .toolbox-container { 
        bottom: 20px; 
        left: 20px; 
    }
    
    /* Ocultamos los tooltips en móvil para que se vea más limpio */
    .toolbox-item::after { 
        display: none; 
    }
    
    /* Ajustamos un poco el tamaño para dedos */
    .toolbox-main-btn {
        width: 60px;
        height: 60px;
    }
}